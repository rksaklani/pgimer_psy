# ============================================
# PGIMER EMRS - Microservices Environment Variables
# ============================================
# Copy this file to .env and update with your actual values
# Command: Copy-Item .env.example .env
# Never commit .env to version control (it's in .gitignore)

# ============================================
# NODE ENVIRONMENT
# ============================================
NODE_ENV=development

# ============================================
# DATABASE CONFIGURATION
# ============================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=pgi_emrs
DB_USER=postgres
DB_PASSWORD=

# Database Connection Pool Settings
DB_POOL_MAX=20
DB_POOL_IDLE_TIMEOUT=30000
DB_POOL_CONNECTION_TIMEOUT=10000

# ============================================
# JWT & TOKEN CONFIGURATION
# ============================================
# Generate strong secrets: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_REFRESH_SECRET=your-super-secret-refresh-jwt-key-change-this-in-production
JWT_EXPIRE=7d

# ============================================
# SERVICE PORTS
# ============================================
USER_SERVICE_PORT=3001
PATIENT_SERVICE_PORT=3002
CLINICAL_SERVICE_PORT=3003
ADL_SERVICE_PORT=3004
PRESCRIPTION_SERVICE_PORT=3005
CLINICAL_OPTIONS_SERVICE_PORT=3006
SESSION_SERVICE_PORT=3007
FILE_UPLOAD_SERVICE_PORT=3008

# ============================================
# SERVICE URLs (for inter-service communication)
# ============================================
USER_SERVICE_URL=http://localhost:3001
PATIENT_SERVICE_URL=http://localhost:3002
CLINICAL_SERVICE_URL=http://localhost:3003
ADL_SERVICE_URL=http://localhost:3004
PRESCRIPTION_SERVICE_URL=http://localhost:3005
CLINICAL_OPTIONS_SERVICE_URL=http://localhost:3006
SESSION_SERVICE_URL=http://localhost:3007
FILE_UPLOAD_SERVICE_URL=http://localhost:3008

# ============================================
# API GATEWAY CONFIGURATION
# ============================================
GATEWAY_PORT=5000

# ============================================
# CORS CONFIGURATION
# ============================================
# Comma-separated list of allowed origins
# Example: http://localhost:3000,http://localhost:3001
CORS_ORIGIN=http://localhost:3000

# ============================================
# EMAIL CONFIGURATION (for OTP and notifications)
# ============================================
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-app-password
EMAIL_FROM=your-email@gmail.com

# ============================================
# FILE UPLOAD CONFIGURATION
# ============================================
UPLOAD_DIR=./uploads

# ============================================
# SECURITY CONFIGURATION
# ============================================
# Bcrypt salt rounds for password hashing (10-12 recommended)
BCRYPT_ROUNDS=12

# ============================================
# PRODUCTION NOTES
# ============================================
# For production:
# 1. Set NODE_ENV=production
# 2. Use strong, unique JWT secrets
# 3. Update database credentials
# 4. Configure proper CORS origins
# 5. Use secure email settings (EMAIL_SECURE=true for port 465)
# 6. Set proper file upload directory with write permissions
# 7. Use environment-specific service URLs (e.g., Docker service names)


# Session Timing Configuration
SESSION_INACTIVITY_TIMEOUT_MS=900000              # 15 minutes (in milliseconds)
ACCESS_TOKEN_EXPIRATION_SECONDS=300               # 5 minutes (in seconds)
REFRESH_TOKEN_EXPIRATION_MS=604800000             # 7 days (in milliseconds)
REFRESH_TOKEN_COOKIE_MAX_AGE_MS=604800000        # 7 days (in milliseconds)
JWT_ACCESS_TOKEN_EXPIRATION=5m                    # 5 minutes (format: Xs, Xm, Xh, Xd)
JWT_REFRESH_TOKEN_EXPIRATION=7d                   # 7 days (format: Xs, Xm, Xh, Xd)
OTP_EXPIRATION_MS=300000                          # 5 minutes (in milliseconds)
OTP_EXPIRATION_SECONDS=300                        # 5 minutes (in seconds)
PASSWORD_RESET_TOKEN_EXPIRATION_MS=900000         # 15 minutes (in milliseconds)
# SESSION_INACTIVITY_TIMEOUT_MS=1800000  # 30 minutes